{{#let (format-date this.zitting.gestartOpTijdstip 'd MMMM yyyy, HH:mm') as |startDate|}}
  {{page-title (concat
    this.zitting.bestuursorgaan.isTijdsspecialisatieVan.naam
    ", zitting van "
    startDate
    )}}
{{/let}}
<div class="au-o-region-large">
  <div class="au-o-layout">
    <WithRdfaContext @model={{this.zitting}} as |ctx|>
      <AuHeading @skin="2" class="au-u-margin-bottom">
        Publicaties voor de zitting van
        <ctx.get @prop="bestuursorgaan" as |elements value boCtx|>
          <span {{rdfa elements}}>
            <boCtx.get @prop="isTijdsspecialisatieVan" as |elements value itsvCtx|>
              <span {{rdfa elements}}>
                <itsvCtx.get @prop="naam" />
              </span>
            </boCtx.get>
          </span>
        </ctx.get>
        <br>
        op
        <ctx.get @prop="geplandeStart" as |elements value|>
          <span {{rdfa elements}}>{{format-date value 'd MMMM yyyy, HH:mm'}}</span>
        </ctx.get>
      </AuHeading>
        <ul class="au-c-steps">
          <li class="au-c-steps__item">
            {{#if this.zitting.notulen}}
            <div class="au-o-box au-c-card au-c-card--flex au-c-card--link">
              <div class="au-c-card__header">
                <AuBadge @icon="draft" @skin="brand" />
                <div>
                  <AuHeading @level="2" @skin="4">Notulen</AuHeading>
                </div>
                <span class="au-u-hidden-visually">
                  <a href={{href-to "bestuurseenheid.zitting.notulen" this.zitting.id}} property="lblodBesluit:linkToPublication" tabindex="-1">
                    <ctx.get @prop="notulen" />
                  </a>
                </span>
                <LinkTo @route="bestuurseenheid.zitting.notulen" @model={{this.zitting.id}} class="au-c-card__link">
                  <span class="au-u-hidden-visually">Bekijk notulen</span>
                  <AuIcon @icon="nav-right" @size="large" />
                </LinkTo>
              </div>
            </div>
            {{else}}
            <div class="au-o-box au-c-card au-c-card--flex">
              <div class="au-c-card__header">
                <AuBadge @icon="info-circle" />
                <AuHeading @level="2" @skin="4">Notulen niet publiek</AuHeading>
              </div>
            </div>
            {{/if}}
          </li>


          {{!-- @Miet -> Currently a soon as besluitenlijst or bekendmaking is published, this option will pop up.
                  Backend needs update I guess to deal with the correct condition --}}

          <li class="au-c-steps__item">
            {{#if this.zitting.uittreksels.length}}
            <div class="au-o-box au-c-card au-c-card--flex au-c-card--link">
              <div class="au-c-card__header">
                <AuBadge @icon="draft" @skin="brand" />
                <div>
                  <AuHeading @level="2" @skin="4">Bekendmakingen en uittreksels</AuHeading>
                </div>
                <span class="au-u-hidden-visually">
                  <ctx.each @prop="uittreksels" as |elements uittreksel|>
                    <a href={{href-to "bestuurseenheid.zitting.uittreksels.detail.raw" uittreksel.id}} property="lblodBesluit:linkToPublication" tabindex="-1">
                      <span {{rdfa elements}} />
                    </a>
                  </ctx.each>
                </span>
                <LinkTo @route="bestuurseenheid.zitting.uittreksels" @model={{this.zitting.id}} class="au-c-card__link">
                  <span class="au-u-hidden-visually">Bekijk bekendmakingen en uittreksels</span>
                  <AuIcon @icon="nav-right" @size="large" />
                </LinkTo>
              </div>
            </div>
            {{else}}
            <div class="au-o-box au-c-card au-c-card--flex">
              <div class="au-c-card__header">
                <AuBadge @icon="info-circle" />
                <AuHeading @level="2" @skin="4">Bekendmakingen en uittreksels niet publiek</AuHeading>
              </div>
            </div>
            {{/if}}
          </li>

          <li class="au-c-steps__item">
            {{#if this.zitting.besluitenlijst.id}}
            <div class="au-o-box au-c-card au-c-card--flex au-c-card--link">
              <div class="au-c-card__header">
                <AuBadge @icon="draft" @skin="brand" />
                <div>
                  <AuHeading @level="2" @skin="4">Besluitenlijst</AuHeading>
                </div>
                <span class="au-u-hidden-visually">
                  <a href={{href-to "bestuurseenheid.zitting.besluitenlijst" this.zitting.id}} property="lblodBesluit:linkToPublication" tabindex="-1">
                    <ctx.get @prop="besluitenlijst" />
                  </a>
                </span>
                <LinkTo @route="bestuurseenheid.zitting.besluitenlijst" @model={{this.zitting.id}} class="au-c-card__link">
                  <span class="au-u-hidden-visually">Bekijk besluitenlijst</span>
                  <AuIcon @icon="nav-right" @size="large" />
                </LinkTo>
              </div>
            </div>
            {{else}}
            <div class="au-o-box au-c-card au-c-card--flex">
              <div class="au-c-card__header">
                <AuBadge @icon="info-circle" />
                <AuHeading @level="2" @skin="4">Besluitenlijst niet publiek</AuHeading>
              </div>
            </div>
            {{/if}}
          </li>

          <li class="au-c-steps__item">
            {{#if this.zitting.agenda.id}}
            <div class="au-o-box au-c-card au-c-card--flex au-c-card--link">
              <div class="au-c-card__header">
                <AuBadge @icon="draft" @skin="brand" />
                <div>
                  <AuHeading @level="2" @skin="4">Agenda</AuHeading>
                </div>
                <LinkTo @route="bestuurseenheid.zitting.agenda" @model={{this.zitting.id}} class="au-c-card__link" property="lblodBesluit:linkToPublication">
                  <span class="au-u-hidden-visually">Bekijk agenda</span>
                  <AuIcon @icon="nav-right" @size="large" />
                </LinkTo>
              </div>
            </div>
            {{else}}
            <div class="au-o-box au-c-card au-c-card--flex">
              <div class="au-c-card__header">
                <AuBadge @icon="info-circle" />
                <AuHeading @level="2" @skin="4">Agenda niet publiek</AuHeading>
              </div>
            </div>
            {{/if}}
          </li>
        </ul>
    </WithRdfaContext>

    {{outlet}}
  </div>
</div>
